<!DOCTYPE html>
<html lang = "en">
    <head>
    
        <meta charset = "UTF-8" />
        <meta name = "viewport" content = "width=device-width,intial-scale=1.0" />
        <meta http-equiv = "X-UA-Compatible" content = "ie=edge" />
        <title>Data and API Tutorial</title>
    
    </head>

    <body>
        
        
        <img src="" id="character" />
        
        <script>
            console.log('about to fetch a character');
            
            //this is a better way of doing the below
            async function catchCharacter(){
            
            //assign response as variable
            const response = await fetch('../img/kevin.png');
            
            //create blob from response
            const blob = await response.blob();
            
            //get DOM element, convert response into format for IMG SRC
            document.getElementById('character').src = URL.createObjectURL(blob);

            
            };
            //append error handling onto main function call
            catchCharacter().catch(error=>{
                console.error(error);
            })
            
            //after response completes, do something
            .then(response =>{
            
            console.log('yay');
            
            })
//            
//            //first fetch, return response
//            fetch('img/dwight.png').then(response => {
//            
//                console.log(response);
//                
//                //convert promise to blob
//                return response.blob();
//                
//            //complete STREAM of data into blob
//            }).then(blob =>{
//            
//                console.log(blob);
//                
//                document.getElementById('character').src = URL.createObjectURL(blob);
//                //takes blob and converts to img src prop
//                
//            //simple error handling
//            }).catch(error=>{
//                console.error(error);
//            });
//        
        </script>
    
    
    </body>

</html>